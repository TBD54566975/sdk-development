<!DOCTYPE html>
<html>
  <head>
        <title>web5 spec compliance report</title>
        <meta http-equiv='Content-Type' content='text/html;charset=utf-8'/>
        <style type="text/css">
            * {
                font-family: sans-serif;
            }
            table {
                border-collapse: collapse;
            }
            th {
                border-bottom: solid black 1px;
            }
            td, th {
                padding-right: 1em;
            }
        </style>
    </head>
    <body>
        <h1>web5 spec compliance report</h1>

        {{ range $category, $tests := .Tests }}
        <h2>{{ $category }}</h2>
        <table>
            <tr><th>test</th>{{ range $.Reports }}<th><a href="https://github.com/{{ .SDK.Repo }}">{{ .SDK.Name }}</a></th>{{ end }}</tr>
            {{ range $i, $test := $tests }}
            <tr>
                <td>{{ $test }}</td>
                {{ range $_, $report := $.Reports }}
                <td>
                    <details>
                    <summary>{{ (index (index .Results $category) $test).GetEmoji }}</summary>
                    <ul>
                        {{ range (index (index .Results $category) $test).Errors }}<li>{{ . }}</li>{{ end }}
                    </ul>
                </td>
                {{ end }}
            </tr>
            {{ end }}
        </table>
        {{ end }}
    </body>
</html>