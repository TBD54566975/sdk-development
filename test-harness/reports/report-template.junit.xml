<?xml version="1.0" encoding="UTF-8"?>
<testsuites time="{{ .TimeTotal | durationToJunit }}">
{{ range $testSuiteName, $tests := .Report.Results }}
    <testsuite name="{{ $testSuiteName }}" tests="{{ $tests | len }}" time="{{ index $.TimePerTestSuite $testSuiteName | durationToJunit }}">
        {{ range $testCaseName, $result := $tests }}
        <testcase name="{{ $testCaseName }}" classname="{{ $testSuiteName }}" time="{{ $result.Time | durationToJunit }}"{{ if $result.Errors }}>
            {{ if $result.IsSkipped }}
            <skipped message="test is not supported by this SDK" />
            {{ else }}
            <failure message="test did not pass" type="AssertionError">
                {{ range $_, $err := $result.Errors }}{{ $err }}{{ end }}
            </failure> 
            {{ end }}
        </testcase>
        {{ else }}/>{{ end}}
        {{ end }}
    </testsuite>
{{ end }}
</testsuites>